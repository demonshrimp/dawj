<!DOCTYPE HTML>
<html>
<head>
    <title>心理测试_心理测试题_心理压力测试_心理健康测试_大爱无疆心理网</title>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
    <link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="keywords" content="心理测试,心理压力测试,心理健康测试,心理测试题"/>
    <meta name="description" content="大爱无疆心理网,国内第一家专业心理测试网站，我们有最全的心理测试题，可在线进行心理测试、心理压力测试和心理健康测试。"/>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <link href='http://fonts.useso.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href="css/animate.min.css" rel="stylesheet"/>
    <script src="js/vendor/jquery.min.js"></script>
    <script src="js/vendor/jquery.scrollTo.min.js"></script>
    <script src="js/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <link rel="stylesheet" href="css/flexslider.css" type="text/css" media="screen"/>
    <style>
        .question {
            margin: 40px 10px;
        }

        .clickable {
            cursor: pointer;;
        }

        .blog-content {
            padding-left: 50px;
        }

        @media (max-width: 765px) {
            .blog-content {
                padding-left: 0;
            }
        }
    </style>
</head>
<body>
<!-- header -->
<div class="header">
    <div class="header-top">
        <div class="container">
            <div class="head-left">
                <ul class="number">
                    <li><span><i class="phone"> </i>0371-55601221</span></li>
                    <li><a href="mailto:info@dawjxlzx.com"><i class="mail"></i>info@dawjxlzx.com</a></li>
                    <div class="clearfix"></div>
                </ul>
            </div>
            <div class="head-right hidden">
                <ul>
                    <li><a href="#"><i class="fb"> </i></a></li>
                    <li><a href="#"><i class="twt"> </i></a></li>
                    <li><a href="#"><i class="ttt"> </i></a></li>
                    <li><a href="#"><i class="ve"> </i></a></li>
                    <li><a href="#"><i class="in"> </i></a></li>
                    <li><a href="#"><i class="dib"> </i></a></li>
                    <li><a href="#"><i class="fli"> </i></a></li>
                    <li><a href="#"><i class="rss"> </i></a></li>
                    <div class="clearfix"></div>
                </ul>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <div class="header-bottom">
        <div class="container">
            <div class="logo animated slideInDown hidden">
                <a href="index.html"><img src="images/logo1.png" class="img-responsive" alt=""></a>
            </div>
            <div class="head-nav">
                <span class="menu"> </span>
                <ul class="cl-effect-3">
                    <li class="active"><a href="index.html">首页</a></li>
                    <li><a href="counselors.html">找咨询师 </a></li>
                    <li><a href="psychological-test.html">心理测评 </a></li>
                    <li><a href="counseling-articles.html">心理案例 </a></li>
                    <li><a href="feedback.html">在线答疑</a></li>
                    <li><a href="about.html">关于</a></li>
                    <div class="clearfix"></div>
                </ul>
                <!-- script-for-nav -->
                <script>
                    $("span.menu").click(function () {
                        $(".head-nav ul").slideToggle(300, function () {
                            // Animation complete.
                        });
                    });
                </script>
                <!-- script-for-nav -->
            </div>
            <div class="header-right1">
                <ul id="loginPanel">
                    <li><a href="login.html">登录</a></li>
                    <li><a href="register.html">注册</a></li>
                </ul>
                <p id="unLoginPanel" class="hidden">欢迎，
                    <a id="userName" href="user-center.html">用户</a>　
                    <a href="user-center.html">[个人中心]</a><a id="btnLogoff" href="#login.html">[注销]</a>
                </p>
            </div>
            <div class="header-right1">
                <a id="selectSite" href="#"></a>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>
<!-- header -->
<!-- 404 -->
<div class="content-top">
    <div class="container">
        <a href="psychological-test.html?qindex=1" style="float: left;margin: 20px" class="btn btn-primary">人格测试</a>
        <a href="psychological-test.html?qindex=2" style="float: right;margin: 20px" class="btn btn-primary">高考报考指导</a>
        <div class="clear"></div>
        <div class="portfolio-top animated slideInDown">
            <h3 id="title">心理评测</h3>
        </div>
        <div class="blog-content">
            <form id="form">
                <div id="subject" class="hidden" style="width: 100%;text-align: center;margin: 40px 0;">
                    <label class="radio-inline">
                        <input type="radio" name="subject" id="inlineRadio1" value="1"> 文科
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="subject" id="inlineRadio2" value="2"> 理科
                    </label>
                </div>
                <div id="questions">
                    <!--<div class="question">
                        <h4>[1]关于人生观，我的内心其实是：</h4>
                        <div class="radio">
                            <label>[A]</label>
                            <label>
                                <input type="radio" name="optionsRadios" value="A">
                                希望能够有尽量多的人生体验，所以会有非常多样化的想法。
                            </label>
                        </div>
                        <div class="radio">
                            <label>[B]</label>
                            <label>
                                <input type="radio" name="optionsRadios" value="B">
                                在小心合理的基础上，谨慎地确定自己的目标，一旦确定会坚定不移地去做。
                            </label>
                        </div>
                        <div class="radio">
                            <label>[C]</label>
                            <label>
                                <input type="radio" name="optionsRadios" value="C">
                                更加注重的是取得一切有可能的成就。
                            </label>
                        </div>
                        <div class="radio">
                            <label>[D]</label>
                            <label>
                                <input type="radio" name="optionsRadios" value="D">
                                宁愿剔除风险而享受平静或现状。
                            </label>
                        </div>
                    </div>-->
                </div>
                <nav>
                    <ul class="pager">
                        <li><a class="hidden" id="btnPrevious" href="#">上一题</a></li>
                        <li><a class="hidden" id="btnNext" href="#">下一题</a></li>
                        <li><a id="btnSubmit" href="javascript:void(0);">提交</a></li>
                    </ul>
                </nav>
            </form>
        </div>
    </div>
</div>
<!-- 404 -->

<!-- footer-top -->
<div class="footer-top">
    <div class="container">
        <div class="col-md-4 foo-left">
            <h3>公司简介</h3>
            <a href="index.html" class="hidden"><img src="images/logo1.png" class="img-responsive" alt=""></a>
            <p>大爱无疆心理咨询有限公司是在教育部政策（教思政厅[2011]1号）的影响下应运而生的全国目前唯一一家无区域执业的心理咨询公司。</p>
            <p>公司具备资质：心理咨询；教育咨询；非学历短期培训（国内基本已停止审批）；人力中介服务（国内基本已停止审批）；教育文化交流活动组织策划；教育软件技术开发等。以上资质全国范围内均可使用。</p>
        </div>
        <div class="col-md-4 foo-left">
            <h3>公司概况</h3>
            <h6>成立情况</h6>
            <p>2016年1月由中国工商总局核名后注册成立。</p>
            <p>2016年3月份正式运营。</p>
            <h6>荣誉</h6>
            <p> 河南电视台法制频道优秀心理咨询机构。</p>
            <p>河南大象融媒集团心理咨询模范单位。</p>
        </div>
        <div class="col-md-4 foo-left">
            <h3>联系我们</h3>
            <ul>
                <li><p><span class="glyphicon glyphicon-phone-alt" style="font-size: 17px;margin: 0 4px"></span>0371-55601221
                </p>
                </li>
                <li><p href="mailto:info@dawjxlzx.com"><i class="mail"></i>info@dawjxlzx.com</p></li>
                <li><p><span class="glyphicon glyphicon-home" style="font-size: 17px;margin: 0 4px"></span>河南省郑州市金水区经三路66号金成国际广场4号楼2单元1102
                </p>
                </li>
                <!--<li class="active"><a href="index.html">首页</a></li>
                <li class="active"><a href="about.html">关于我们</a></li>
                <li><a href="#">咨询师 </a></li>
                <li><a href="#">心理咨询 </a></li>
                <li><a href="blog.html">联系我们</a></li>
                <li><a href=" 404.html">个人中心</a></li>-->
                <div class="clearfix"></div>
            </ul>
        </div>
        <div class="clearfix"></div>

        <div class="col-md-12 foo-left">
            <h3>友情链接</h3>
            <ol class="breadcrumb friendly-link" id="friendshipSiteList">
            </ol>
            <script type="text/javascript">
                $(function () {
                    $.get(App.Constants.API_BASE + '/friendship-site/list', function (result) {
                        if (result.header.success) {
                            var friendshipSites = result.body;
                            var list = $('#friendshipSiteList');
                            list.empty();
                            for (var i = 0; i < friendshipSites.length; i++) {
                                var friendshipSite = friendshipSites[i];
                                list.append('<li><a href="' + friendshipSite.url + '" target="_blank">' + friendshipSite.name + '</a></li>');
                            }
                        }
                    });
                })
            </script>
        </div>
    </div>
</div>
<!-- footer-top -->
<!-- footer-bottom -->
<div class="footer-bottom">
    <div class="container">
        <p>Copyright &copy; 2016.大爱无疆 All rights reserved.</p>
    </div>
</div>
<!-- footer-bottom -->
<div class="modal fade" id="modalHongbao" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="background: #CD4F39;height: 500px;overflow: hidden">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="padding:10px;"><span
                    aria-hidden="true">&times;</span></button>
            <div id="hongbao">
                <div class="box-shadow-3"
                     style="background: #CD3333;width: 200%;height: 300px;border-bottom-left-radius: 100%;border-bottom-right-radius: 100%;margin-left: -100%;">
                </div>
                <div class="box-shadow-3" id="hongbao_open"
                     style="cursor: pointer;width: 100px;height: 100px;border-radius: 100%;background: #FFB90F;line-height: 100px;text-align: center;color: #fff;font-family: '微软雅黑';font-size: 18px;margin: -60px auto 0 auto;">
                    拆红包
                </div>
                <h3 style="text-align: center;color: #fff;font-family: '微软雅黑';">微信用户首次光临,恭喜你获得一个红包</h3>
            </div>
            <div id="hongbao_result" class="animated slideInDown" style="display: none">
                <div style="margin: 200px auto;text-align: center;color: #fff;font-family: '微软雅黑';">
                    <h3>恭喜抽到金额：</h3>
                    <h4 id="hongbao_amount">0
                        <small style="color: darkred">yuan</small>
                    </h4>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        var qindex = App.Utils.UrlUtil.getUrlParameter('qindex');
        if (!qindex) {
            qindex = 1;
        }
        var questionData;
        var subjects = [];


        if (App.getCurrentLoginUser() && App.Utils.BrowserUtil.isWechat() && localStorage.getItem('ALREADY_OPEN_HONG_BAO') != 'true') {
            showHongBaoDialog();
        }
        $.get('data/questions/q' + qindex + '/question.json', function (data) {
            questionData = data;
            subjects = data.subjects;
            if (App.Utils.BrowserUtil.isWechat()) {
                var user = App.getCurrentLoginUser();
                if (user.points < data.points) {
                    alert('测试需金额：' + data.points + ',当前余额不足:' + user.points + ';通过分享咨询文章到朋友圈可以获得随机赠送金额哦(打开菜单心理案例->人选一篇文章->分享到朋友圈).');
                    $('#form').hide();
                }
            }

            $('#title').text(data.title);

            var list = $('#questions');
            list.empty();
            for (var i = 0; i < subjects.length; i++) {
                var subject = subjects[i];
                list.append(buildItem(subject, i, data.mode));
            }
            $('.question').removeClass('hidden');
            if (data.paging) {
                gotoQuestion(0);
                $('#btnPrevious').removeClass('hidden');
                $('#btnNext').removeClass('hidden');
                $('#questions').on('click', '.radio', function () {
                    var index = $(this).parent('.question').data('index');
                    if (index < $('.question').length - 1) {
                        gotoQuestion(++index);
                    }
                });
            }
            if (qindex == 2) {
                $('#subject').removeClass('hidden');
            }
        });
        $('#selectTestType').val(qindex);
        // init events

        $('#hongbao_open').click(function () {
            $('#hongbao').hide();
            $('#hongbao_result').show();
            localStorage.setItem('ALREADY_OPEN_HONG_BAO', 'true');
        });

        $('#btnSubmit').click(function () {
            var answer = App.Utils.FormUtil.toJson('#form');

            //
            var answeredLength = Object.getOwnPropertyNames(answer).length;
            if (answeredLength == 0) {
                alert('请先作答！');
                return;
            }

            if (qindex == 2 && !answer.subject) {
                alert('请先选择科目(文科/理科)');
                return;
            }
            var result = [0, 0, 0, 0];
            var map = questionData.map;
            for (var i = 1; i <= subjects.length; i++) {
                var value = answer['subject' + i];
                if (questionData.required && !value) {
                    alert("第" + i + '道题尚未作答');
                    gotoQuestion(--i);
                    return;
                }
                result[value] += 1;
            }
            var max = result[0];
            for (var i = 1; i < result.length; i++) {
                if (max < result[i])max = result[i];
            }
            var index = result.indexOf(max);
            var resultUrl = 'psychological-test-result.html?qindex=' + qindex + '&result=' + map[index] + '&subject=' + answer.subject;
            if (App.Utils.BrowserUtil.isWechat()) {
                $.get(App.Constants.API_BASE + '/user/psychological-test?points=' + questionData.points, function (result) {
                    if (!result.header.success) {
                        alert(result.header.message);
                        return;
                    }
                    var user = App.getCurrentLoginUser();
                    user.points = user.points - questionData.points;
                    App.setCurrentLoginSite(user);
                    window.location.href = resultUrl;
                });
            } else {
                window.location.href = resultUrl;
            }
        });

        $('#btnPrevious').click(function () {
            var index = $('.question:visible').data('index');
            if (index < 1) {
                alert('已经是第一题了');
                return;
            }
            gotoQuestion(--index);
        });

        $('#btnNext').click(function () {
            var index = $('.question:visible').data('index');
            if (index >= $('.question').length - 1) {
                alert('已经是最后一题了');
                return;
            }
            gotoQuestion(++index);
        });

        $('#questions').on('click', '.clickable h4', function () {
            var checkbox = $(this).parent().find('input[type="checkbox"]:eq(0)')[0];
            checkbox.checked = !checkbox.checked;
        });

        //state functions
        function buildItem(subject, index, mode) {
            switch (mode) {
                case 'SingleChoice':
                    return buildSingleChoiceItem(subject, index);
                case 'TrueOrFalse':
                    return buildTrueOrFalseItem(subject, index);
            }
        }

        function buildSingleChoiceItem(subject, i) {
            var num = i + 1;
            var resultA = subject.resultA;
            var resultB = subject.resultB;
            var resultC = subject.resultC;
            var resultD = subject.resultD;
            if (resultA) {
                resultA = 0;
            }
            if (resultB) {
                resultA = 1;
            }
            if (resultC) {
                resultA = 2;
            }
            if (resultD) {
                resultA = 3;
            }
            return '<div class="question hidden" data-index="' + i + '">'
                    + '     <h4>[' + num + ']' + subject.Q + '</h4>'
                    + '     <div class="radio">'
                    + '         <label>[A]</label>'
                    + '          <label>'
                    + '             <input type="radio" name="subject' + num + '" value="' + resultA + '">'
                    + '                   ' + subject.A + ''
                    + '            </label>'
                    + '       </div>'
                    + '      <div class="radio">'
                    + '          <label>[B]</label>'
                    + '           <label>'
                    + '              <input type="radio" name="subject' + num + '" value="' + resultB + '">'
                    + '                   ' + subject.B + ''
                    + '          </label>'
                    + '     </div>'
                    + '      <div class="radio">'
                    + '          <label>[C]</label>'
                    + '          <label>'
                    + '              <input type="radio" name="subject' + num + '" value="' + resultC + '">'
                    + '                   ' + subject.C + ''
                    + '        </label>'
                    + '    </div>'
                    + '    <div class="radio">'
                    + '        <label>[D]</label>'
                    + '        <label>'
                    + '            <input type="radio" name="subject' + num + '" value="' + resultD + '">'
                    + '                   ' + subject.D + ''
                    + '        </label>'
                    + '    </div>'
                    + ' </div>';
        }

        function buildTrueOrFalseItem(subject, i) {
            var num = i + 1;
            return '<div class="question hidden clickable" data-index="' + i + '">'
                    + '     <input style="float: left;width:20px;height: 20px;margin: 0 5px;" type="checkbox" name="subject' + num + '" value="' + subject.result + '">'
                    + '     <h4>[' + num + ']' + subject.Q + '</h4>'
                    + ' </div>';
        }

        function gotoQuestion(index) {
            if (questionData.paging) {
                $('.question').hide();
                $('.question:eq(' + index + ')').show();
            } else {
                $('body').scrollTo('.question:eq(' + index + ')', 500);
            }
        }

        function showHongBaoDialog() {
            $('#hongbao_amount').text(5);
            $('#modalHongbao').modal({keyboard: false});
        }
    });

</script>
</body>
</html>